<!doctype html>
<html lang="ms">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Al-Qur'an - 114 Surah (Template)</title>
  <style>
    :root{
      --bg:#f7f7f7; --card:#fff; --accent:#0b5; --muted:#666;
      --arabic-font: "Scheherazade", "Amiri", serif;
    }
    body{margin:0;font-family:system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background:var(--bg); color:#111;}
    header{background:#073642;color:white;padding:1rem 1.25rem;display:flex;align-items:center;gap:1rem;}
    header h1{font-size:1.125rem;margin:0}
    main{max-width:1100px;margin:1.25rem auto;padding:0 1rem;}
    .controls{display:flex;gap:.5rem;flex-wrap:wrap;margin-bottom:1rem;}
    .card{background:var(--card);padding:1rem;border-radius:8px;box-shadow:0 1px 4px rgba(10,10,10,.06);margin-bottom:1rem;}
    .surah{display:grid;grid-template-columns: 1fr 320px;gap:1rem;}
    @media (max-width:900px){ .surah{grid-template-columns:1fr} }
    .arabic{font-family:var(--arabic-font);font-size:28px;direction:rtl;text-align:right;padding:1rem 1rem 0 1rem;line-height:1.9}
    .verse{margin-bottom:.6rem;padding:0 .25rem}
    .meta{font-size:.9rem;color:var(--muted);margin-bottom:.5rem}
    .translation{padding:0.5rem 0.75rem;border-left:3px solid #eee;}
    nav.surah-list{max-height:60vh;overflow:auto;padding:0.5rem;}
    nav.surah-list button{display:block;width:100%;text-align:left;padding:.35rem .5rem;border-radius:6px;border:0;background:transparent;}
    nav.surah-list button:hover{background:#f0f6f5}
    .juz-nav{display:flex;flex-wrap:wrap;gap:.25rem;}
    .small{font-size:.9rem;color:var(--muted)}
    .search{flex:1}
  </style>
</head>
<body>
  <header>
    <h1>Al-Qur’ān — Template (114 Surah)</h1>
    <div class="small">Muatkan terjemahan Melayu anda sebagai JSON / sumber lain</div>
  </header>

  <main>
    <div class="controls card">
      <div style="display:flex;gap:.5rem;align-items:center;">
        <input id="searchInput" class="search" placeholder="Cari perkataan/ayat (contoh: rahmat)" />
        <button id="btnLoadSample">Muat Contoh Terjemahan (Al-Fātiḥah)</button>
        <button id="btnLoadJSON">Muat dari translations/malay.json</button>
      </div>
      <div class="small" style="margin-top:.5rem">
        Nota: letakkan fail <code>translations/malay.json</code> di folder yang sama atau sambungkan ke API. Struktur contoh ada di bawah.
      </div>
    </div>

    <div class="card surah" id="container">
      <section>
        <!-- Tempat kandungan Surah -->
        <div id="surahContent">
          <!-- Contoh: Surah Al-Fatiha (arab public domain) -->
          <div class="meta"><strong>Surah 1 — Al-Fātiḥah</strong> • Makkiyah • 7 ayat</div>
          <div class="arabic" id="arabic-1">
            <div class="verse" data-verse="1">بِسْمِ اللَّهِ الرَّحْمَـٰنِ الرَّحِيمِ</div>
            <div class="verse" data-verse="2">الْحَمْدُ لِلَّهِ رَبِّ الْعَالَمِينَ</div>
            <div class="verse" data-verse="3">الرَّحْمَـٰنِ الرَّحِيمِ</div>
            <div class="verse" data-verse="4">مَالِكِ يَوْمِ الدِّينِ</div>
            <div class="verse" data-verse="5">إِيَّاكَ نَعْبُدُ وَإِيَّاكَ نَسْتَعِينُ</div>
            <div class="verse" data-verse="6">اهْدِنَا الصِّرَاطَ الْمُسْتَقِيمَ</div>
            <div class="verse" data-verse="7">صِرَاطَ الَّذِينَ أَنْعَمْتَ عَلَيْهِمْ غَيْرِ الْمَغْضُوبِ عَلَيْهِمْ وَلَا الضَّالِّينَ</div>
          </div>

          <div id="translation-1" class="translation small">
            <!-- Translation will be inserted here by JS -->
            <em>Terjemahan belum dimuat. Tekan butang "Muat Contoh Terjemahan" atau muatkan JSON.</em>
          </div>
        </div>
      </section>

      <aside>
        <nav class="card surah-list" id="surahList">
          <!-- Senarai ringkas surah (boleh diisi generik) -->
          <!-- Untuk kelajuan demo saya masukkan 10 pertama sahaja; butang JS boleh generate 114 -->
        </nav>

        <div class="card" style="margin-top:1rem">
          <div class="small"><strong>Navigasi Juz</strong></div>
          <div class="juz-nav" id="juzNav"></div>
        </div>
      </aside>
    </div>

  </main>

  <script>
    // --- Struktur JSON contoh yang diharapkan (translations/malay.json) ---
    // {
    //   "1": { "verses": { "1": "Dengan nama Allah Yang Maha Pengasih, lagi Maha Penyayang.", "2": "...", ... } },
    //   "2": { "verses": { "1": "...", ... } },
    //   ...
    // }

    // Buat senarai surah (1..114)
    const surahListEl = document.getElementById('surahList');
    for(let i=1;i<=114;i++){
      const btn = document.createElement('button');
      btn.textContent = `Surah ${i}`;
      btn.onclick = ()=>loadSurah(i);
      surahListEl.appendChild(btn);
    }

    // Buat navigasi Juz (1..30)
    const juzNav = document.getElementById('juzNav');
    for(let j=1;j<=30;j++){
      const b = document.createElement('button');
      b.textContent = `Juz ${j}`;
      b.onclick = ()=>alert(`Navigasi Juz ${j} — anda boleh sambungkan ke data terperinci juzu'`);
      juzNav.appendChild(b);
    }

    // Fungsi muat surah (demo ringkas: hanya tukar tajuk & tunjukkan Al-Fatiha jika surah=1)
    function loadSurah(n){
      const meta = document.querySelector('#surahContent .meta');
      meta.innerHTML = `<strong>Surah ${n}</strong> • (Data penuh perlu disediakan)`;
      // Jika surah 1, tunjukkan yang sedia ada; kalau bukan, kosongkan kawasan arabic/translation
      if(n===1){
        document.getElementById('arabic-1').style.display='block';
        document.getElementById('translation-1').style.display='block';
      } else {
        document.getElementById('arabic-1').style.display='none';
        document.getElementById('translation-1').innerHTML = `<em>Arab & terjemahan untuk Surah ${n} belum dimuat.</em>`;
      }
    }

    // Contoh: muat contoh terjemahan untuk Surah 1 (hanya contoh ringkas)
    document.getElementById('btnLoadSample').addEventListener('click', ()=>{
      const tEl = document.getElementById('translation-1');
      // *Nota penting:* saya tidak memasukkan terjemahan penuh terjemahan Bahasa Melayu berhakcipta di sini.
      tEl.innerHTML = `
        <div><strong>Terjemahan (contoh ringkas / demo):</strong></div>
        <div style="margin-top:.4rem">
          1. (Bismillāh) Dengan nama Allah Yang Maha Pemurah lagi Maha Penyayang.<br>
          2. Segala puji bagi Allah, Tuhan seru sekalian alam.<br>
          3. (Dia) Maha Pemurah lagi Maha Penyayang.<br>
          4. Pemilik hari pembalasan.<br>
          5. Hanya kepada Engkaulah kami menyembah dan hanya kepada Engkaulah kami mohon pertolongan.<br>
          6. Tunjukilah kami jalan yang lurus,<br>
          7. (iaitu) jalan orang-orang yang Engkau telah beri nikmat kepada mereka — bukan jalan mereka yang dimurkai dan bukan pula jalan mereka yang sesat.
        </div>
      `;
    });

    // Fungsi muat dari JSON tempatan translations/malay.json (perlu ada pada server)
    document.getElementById('btnLoadJSON').addEventListener('click', async ()=>{
      try{
        const resp = await fetch('translations/malay.json');
        if(!resp.ok) throw new Error('Fail translations/malay.json tidak ditemui (404). Pastikan fail ada pada server yang sama.');
        const data = await resp.json();
        // contoh muat surah 1 jika ada
        if(data["1"] && data["1"].verses){
          const verses = data["1"].verses;
          let html = '<div><strong>Terjemahan (dimuat dari translations/malay.json):</strong></div><div style="margin-top:.4rem">';
          Object.keys(verses).sort((a,b)=>Number(a)-Number(b)).forEach(v => {
            html += `<div style="margin-bottom:.4rem"><strong>${v}.</strong> ${escapeHtml(verses[v])}</div>`;
          });
          html += '</div>';
          document.getElementById('translation-1').innerHTML = html;
        } else {
          document.getElementById('translation-1').innerHTML = '<em>Struktur JSON tidak mengandungi Surah 1.</em>';
        }
        alert('Terjemahan dimuat. Untuk paparan penuh, server perlu mengandungi keseluruhan terjemahan (114 surah).');
      }catch(err){
        alert('Ralat memuatkan JSON: ' + err.message);
      }
    });

    // carian ringkas (mencari dalam kawasan terjemahan yang dimuat)
    document.getElementById('searchInput').addEventListener('input', (e)=>{
      const q = e.target.value.trim().toLowerCase();
      if(!q){ /* reset highlight jika perlu */ return; }
      // demo: cari dalam #translation-1
      const t = document.getElementById('translation-1').innerText.toLowerCase();
      if(t.includes(q)){
        alert(`Teks dijumpai dalam terjemahan yang dimuat (contoh: Surah 1).`);
      } else {
        // not found
      }
    });

    // small helper
    function escapeHtml(s){ return String(s).replace(/[&<>"']/g, c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c])); }

    // muat awal: tunjuk Surah 1
    loadSurah(1);
  </script>
</body>
</html>